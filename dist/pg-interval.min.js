var pgi=function(t){var s={hours:"hh",minutes:"mm",seconds:"ss"};function PGI(t){var r={hours:"00",minutes:"00",seconds:"00",negative:!1,ms:0};function i(t,e){return-1===t.indexOf(s[e])?t:t.replace(s[e],r[e])}this.version="1.0.6",this.updateValue=function(){r.ms+=60*this.getHours()*60*1e3,r.ms+=60*this.getMinutes()*1e3,r.ms+=1e3*this.getSeconds()},this.parse=function(t){if("string"==typeof t){r.negative=/^(-).*/.test(t),r.negative&&(t=t.replace("-",""));var s=t.split(":");switch(s.length){case 1:r.hours="00",r.minutes="00",r.seconds=s[0];break;case 2:r.hours="00",r.minutes=s[0],r.seconds=s[1];case 3:r.hours=s[0],r.minutes=s[1],r.seconds=s[2]}this.updateValue()}},this.getHours=function(){return r.hours},this.getMinutes=function(){return r.minutes},this.getSeconds=function(){return r.seconds},this.getValue=function(){return r.negative?-1*r.ms:r.ms},this.format=function(t){var s=r.negative?"-":"";return t?(t=i(t,"hours"),t=i(t,"minutes"),t=i(t,"seconds"),s+t):s+r.hours+":"+r.minutes+":"+r.seconds},this.parseFromMS=function(){var t=this.calcHours(r.ms),s=this.calcMinutes(r.ms),e=this.calcSeconds(r.ms);r.hours=n(t),r.minutes=n(s),r.seconds=n(e)},this.subtract=function(t){"string"==typeof t&&this.isValidIntervalString(t)&&(t=new PGI(t)),this.isPGInterval(t)||e("subtract - first arg should be instance of PGI or valid interval string");var s=this.getValue()-t.getValue();return r.ms=Math.abs(s),r.negative=s<0,this.parseFromMS(),this},this.add=function(t){"string"==typeof t&&this.isValidIntervalString(t)&&(t=new PGI(t)),this.isPGInterval(t)||e("add - first arg should be instance of PGI or valid interval string");var s=this.getValue()+t.getValue();return r.ms=Math.abs(s),r.negative=s<0,this.parseFromMS(),this},this.diff=function(t){"string"==typeof t&&this.isValidIntervalString(t)&&(t=new PGI(t)),this.isPGInterval(t)||e("diff - first arg should be instance of PGI or valid interval string");var s=new PGI(this.format());return s.subtract(t),s},this.multiply=function(t,s){isNaN(t)&&e("multiply - first arg should be number");var n=this;if(s)return(n=new PGI(n.format())).multiply(t);var i=this.getValue();return i=Math.floor(i*t),r.negative=i<0,r.ms=Math.abs(i),n.parseFromMS(),n},this.half=function(){return r.ms=Math.floor(this.getValue()/2),r.negative=r.ms<0,this.parseFromMS(),this},this.parse(t)}function e(){var t=Array.prototype.slice.call(arguments);throw new Error("PGI::"+t.join(" "))}function n(t){var s=Math.abs(t).toString();return s=1===s.length?"0"+s:s}return PGI.prototype.isPGInterval=function(t){return"PGI"===t.constructor.name},PGI.prototype.isValidIntervalString=function(t){return/^(-)?([0-9]+):([0-5][0-9]):([0-5][0-9])$/.test(t)},PGI.prototype.calcHours=function(t){var s=Math.abs(t)%36e5;return t+=t>0?-s:s,0===(t/=36e5)?0:Math.abs(t)},PGI.prototype.calcMinutes=function(t){var s,e=6e4*this.calcHours(t)*60;return t-=t<0?-e:e,s=Math.abs(t)%6e4,t+=t>0?-s:s,0===(t/=6e4)?0:Math.abs(t)},PGI.prototype.calcSeconds=function(t){var s,e,n=1e3,r=this.calcHours(t)*n*60*60;return t-=t<0?-r:r,s=this.calcMinutes(t)*n*60,t-=t<0?-s:s,e=Math.abs(t)%n,t+=t>0?-e:e,0===(t/=n)?0:Math.abs(t)},new PGI(t)};"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=pgi);