var pgi=function(t){return new function PGI(t){var s={hours:"hh",minutes:"mm",seconds:"ss"},e={hours:"00",minutes:"00",seconds:"00",negative:!1,ms:0};function i(t,i){return-1===t.indexOf(s[i])?t:t.replace(s[i],e[i])}function n(){var t=Array.prototype.slice.call(arguments);throw new Error("PGI::"+t.join(" "))}function r(t){var s=Math.abs(t).toString();return s=1===s.length?"0"+s:s}this.version="1.0.3",this.updateValue=function(){e.ms+=60*this.getHours()*60*1e3,e.ms+=60*this.getMinutes()*1e3,e.ms+=1e3*this.getSeconds()},this.parse=function(t){if("string"==typeof t){e.negative=/^(-).*/.test(t),e.negative&&(t=t.replace("-",""));var s=t.split(":");switch(s.length){case 1:e.hours="00",e.minutes="00",e.seconds=s[0];break;case 2:e.hours="00",e.minutes=s[0],e.seconds=s[1];case 3:e.hours=s[0],e.minutes=s[1],e.seconds=s[2]}this.updateValue()}},this.getHours=function(){return e.hours},this.getMinutes=function(){return e.minutes},this.getSeconds=function(){return e.seconds},this.getValue=function(){return e.negative?-1*e.ms:e.ms},this.format=function(t){var s=e.negative?"-":"";return t?(t=i(t,"hours"),t=i(t,"minutes"),t=i(t,"seconds"),s+t):s+e.hours+":"+e.minutes+":"+e.seconds},this.calcHours=function(t){var s=Math.abs(t)%36e5;return t+=t>0?-s:s,0==(t/=36e5)?0:Math.abs(t)},this.calcMinutes=function(t){var s,e=6e4*this.calcHours(t)*60;return t-=t<0?-e:e,s=Math.abs(t)%6e4,t+=t>0?-s:s,0==(t/=6e4)?0:Math.abs(t)},this.calcSeconds=function(t){var s,e,i=1e3,n=this.calcHours(t)*i*60*60;return t-=t<0?-n:n,s=this.calcMinutes(t)*i*60,t-=t<0?-s:s,e=Math.abs(t)%i,t+=t>0?-e:e,0==(t/=i)?0:Math.abs(t)},this.parseFromMS=function(){var t=this.calcHours(e.ms),s=this.calcMinutes(e.ms),i=this.calcSeconds(e.ms);e.hours=r(t),e.minutes=r(s),e.seconds=r(i)},this.subtract=function(t){"string"==typeof t&&this.isValidIntervalString(t)&&(t=new PGI(t)),this.isPGInterval(t)||n("subtract - first arg should be instance of PGI or valid interval string");var s=this.getValue()-t.getValue();return e.ms=Math.abs(s),e.negative=s<0,this.parseFromMS(),this},this.add=function(t){"string"==typeof t&&this.isValidIntervalString(t)&&(t=new PGI(t)),this.isPGInterval(t)||n("add - first arg should be instance of PGI or valid interval string");var s=this.getValue()+t.getValue();return e.ms=Math.abs(s),e.negative=s<0,this.parseFromMS(),this},this.diff=function(t){"string"==typeof t&&this.isValidIntervalString(t)&&(t=new PGI(t)),this.isPGInterval(t)||n("diff - first arg should be instance of PGI or valid interval string");var s=new PGI(this.format());return s.subtract(t),s},this.multiply=function(t,s){isNaN(t)&&n("multiply - first arg should be number");var i=this;if(s)return(i=new PGI(i.format())).multiply(t);var r=this.getValue();return r=Math.floor(r*t),e.negative=r<0,e.ms=Math.abs(r),i.parseFromMS(),i},this.half=function(){return e.ms=Math.floor(this.getValue()/2),e.negative=e.ms<0,this.parseFromMS(),this},this.isPGInterval=function(t){return"PGI"===t.constructor.name},this.isValidIntervalString=function(t){return/^(-)?[0-9]{2}:[0-9]{2}:[0-5][0-9]$/.test(t)},this.parse(t)}(t)};module.exports=pgi;